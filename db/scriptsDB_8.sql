/*
DROP TABLE LOGS
DROP TABLE REF_CODES
DROP TABLE CONSECUTIVOS
DROP TABLE SERVICIOS_PARTICULAR
DROP TABLE TOURS
DROP TABLE RESERVAS_TOUR
DROP TABLE RESERVAS
DROP TABLE VUELOS
DROP TABLE SERVICIOSXPROVEEDOR
DROP TABLE SERVICIOS_PAQUETES
DROP TABLE SERVICIOS
DROP TABLE UBICACIONES
DROP TABLE NACIONALIDADES
DROP TABLE PROVEEDORES
DROP TABLE USUARIOS
DROP TABLE CLIENTES
DROP TABLE PERMISOSXROL
DROP TABLE PERMISOS
DROP TABLE ROLES
*/

CREATE TABLE ROLES (	-- NUEVA TABLA
	CODROL VARCHAR(10) ,
	DESCROL VARCHAR(50) NOT NULL,
	CONSTRAINT pk_roles 
		PRIMARY KEY (CODROL)
)

CREATE TABLE PERMISOS (	-- NUEVA TABLA
	CODPER VARCHAR(10) ,
	DESCPER VARCHAR(200) NOT NULL,
	CONSTRAINT pk_permisos 
		PRIMARY KEY (CODPER)	
)

CREATE TABLE PERMISOSXROL (	-- NUEVA TABLA
	CODROL VARCHAR(10), 
	CODPER VARCHAR(10),
	CONSTRAINT pk_permisosxrol
		PRIMARY KEY (CODROL,CODPER)	,
	CONSTRAINT fk_perxrol_codrol 
		FOREIGN KEY(CODROL) 
		REFERENCES ROLES(CODROL),
	CONSTRAINT fk_perxrol_codper
		FOREIGN KEY(CODPER)
		REFERENCES PERMISOS(CODPER)	
)		
     
CREATE TABLE CLIENTES (	-- scr_t02
	CODCLI VARCHAR(7), 		-- VARCHAR(3)
	TIPOCLI VARCHAR(2) NOT NULL, -- Nuevo cliente
	NOMCLI VARCHAR(100) NOT NULL, 
	DIRCLI VARCHAR(50),
	CIUCLI VARCHAR(30), 
	TE1CLI VARCHAR(20), 
	TE2CLI VARCHAR(20), 
	CELCLI VARCHAR(20), 
	CONCLI VARCHAR(50),
  NITCLI VARCHAR(20),
	CONSTRAINT pk_clientes
		PRIMARY KEY (CODCLI),
  CONSTRAINT uq_nitcli 
    UNIQUE (NITCLI)		
)
	
CREATE TABLE USUARIOS (	-- scr_t07 
	CODUSR VARCHAR(15),		-- CODIGO VARCHAR(2) 
	CLAVE VARCHAR(15) NOT NULL,		-- VARCHAR(6) 
	CODROL VARCHAR(10) NOT NULL,		-- NUEVO CAMPO
	NOMBRE VARCHAR(50) NOT NULL,
	APELLIDOS VARCHAR(25),	-- NUEVO CAMPO	
	FDIGITA DATETIME NOT NULL, 
	CODUSRDIG VARCHAR(15),	-- CODUSR VARCHAR(3)
	CODCLI VARCHAR(7), 
	-- ADMON VARCHAR(1)
	CONSTRAINT pk_usuarios
		PRIMARY KEY (CODUSR),
	CONSTRAINT fk_usuarios_codrol 
		FOREIGN KEY(CODROL) 
		REFERENCES ROLES(CODROL),
	CONSTRAINT fk_usuarios_codcli 
		FOREIGN KEY(CODCLI) 
		REFERENCES CLIENTES(CODCLI),
	CONSTRAINT fk_usuarios_codusrdig
		FOREIGN KEY(CODUSRDIG)
		REFERENCES USUARIOS(CODUSR)		
)

CREATE TABLE PROVEEDORES (	-- scr_t09
	CODPRO VARCHAR(7),		-- VARCHAR(3) 
	NOMPRO VARCHAR(30) NOT NULL, 
	DIRPRO VARCHAR(50), 
	TE1PRO VARCHAR(10), 
	TE2PRO VARCHAR(10), 
	CELPRO VARCHAR(10), 
	CONPRO VARCHAR(50), 
	CONSEC INTEGER,
	CUPOS INTEGER,
	CONSTRAINT pk_proveedores
		PRIMARY KEY (CODPRO)
) 

CREATE TABLE NACIONALIDADES (	-- scr_t11
	CODNAC VARCHAR(3), 
	NACIONAL VARCHAR(20) NOT NULL,
	CONSTRAINT pk_nacionalidades
		PRIMARY KEY (CODNAC)	
) 

CREATE TABLE OFICINAS (	-- NUEVA TABLA
  CODOFI VARCHAR(20) NOT NULL,
  NOMOFI VARCHAR(100),
  PREFIJO VARCHAR(10),

	CONSTRAINT pk_oficinas
		PRIMARY KEY (CODOFI)
)

CREATE TABLE CONTACTOS (	-- NUEVA TABLA
  DOCUMENTO VARCHAR(50) NOT NULL,
  NOMBRE VARCHAR(100),
  CELULAR VARCHAR(50),
  EMAIL VARCHAR(100),
  ULTIMACOMPRA DATETIME,

	CONSTRAINT pk_contactos
		PRIMARY KEY (DOCUMENTO)
)

CREATE TABLE PAQUETES (
	CODPAQ VARCHAR(7),
	NOMPAQ VARCHAR(50) NOT NULL,  
	DESCPAQ VARCHAR(100),
  CODOFI VARCHAR(20),
	CONSTRAINT pk_paquetes
		PRIMARY KEY (CODPAQ)	
)

CREATE TABLE UBICACIONES (	-- scr_t12
	CODUBI VARCHAR(7),
	TIPOUBI VARCHAR(3) NOT NULL,  -- Campo NUEVO / posibles valores: HOT, ARP, MUE, OTR
	NOMUBI VARCHAR(30) NOT NULL, 
	DIRUBI VARCHAR(50), 
	TE1UBI VARCHAR(10), 
	TE2UBI VARCHAR(10), 
	CELUBI VARCHAR(10), 
	CONUBI VARCHAR(50),
  CODOFI VARCHAR(20),
	CONSTRAINT pk_ubicaciones
		PRIMARY KEY (CODUBI)	
)
   
CREATE TABLE SERVICIOS ( -- scr_t03
	CODSER VARCHAR(7), 
	NOMSER VARCHAR(40) NOT NULL, 
	PRECIOADU INTEGER,
	PRECIOINF INTEGER,
	SELDEFECTO VARCHAR(3) DEFAULT 'NO',
	ORDENSALE INTEGER DEFAULT 99,
	TIPO VARCHAR(3),
	LUGAR VARCHAR(50),
	CONSTRAINT pk_servicios
		PRIMARY KEY (CODSER)	
) 

CREATE TABLE SERVICIOS_PAQUETES ( 
	CODPAQ VARCHAR(7), 
	CODSER VARCHAR(7), 
	CONSTRAINT pk_servicios_paquetes
		PRIMARY KEY (CODPAQ, CODSER),
	CONSTRAINT fk_servpaq_codser 
		FOREIGN KEY(CODSER)
		REFERENCES SERVICIOS(CODSER),
	CONSTRAINT fk_servpaq_codpaq 
		FOREIGN KEY(CODPAQ)
		REFERENCES SERVICIOS(CODSER)
) 

CREATE TABLE SERVICIOSXPROVEEDOR (	-- NUEVA TABLA
	CODSER VARCHAR(7), 
	CODPRO VARCHAR(7),		-- VARCHAR(3)
	COSSER INTEGER NOT NULL, -- NUEVO CAMPO
	CONSTRAINT pk_serviciosxproveedor 
		PRIMARY KEY (CODSER,CODPRO)	,
	CONSTRAINT fk_servxprov_codser 
		FOREIGN KEY(CODSER) 
		REFERENCES SERVICIOS(CODSER),
	CONSTRAINT fk_servxprov_codpro 
		FOREIGN KEY(CODPRO)
		REFERENCES PROVEEDORES(CODPRO)
) 

CREATE TABLE VUELOS (	-- NUEVA TABLA
	TIPOVLO VARCHAR(3) NOT NULL,
	NROVLO VARCHAR(10),
	HORAVLO VARCHAR(8),	
	CONSTRAINT pk_vuelos
		PRIMARY KEY (TIPOVLO, NROVLO)
) 

CREATE TABLE RESERVAS ( -- scr_t01
	FDIGITA DATETIME NOT NULL, 
	CODOFI VARCHAR(20),
  NUMRES INTEGER, 
	RESRES INTEGER, 
  DOCUMENTO VARCHAR(50),
	FLLEGA DATETIME, 
	FSALE DATETIME, 
	CODCLI VARCHAR(7) NOT NULL,		-- VARCHAR(2) 
	-- NOMAGE VARCHAR(20) 
	NOMPAX VARCHAR(50) NOT NULL, 
	TELPAX VARCHAR(30),
	VOUCHER VARCHAR(50), 
	ASESORAGE VARCHAR(100), 
	CODNAC VARCHAR(3) NOT NULL,		-- NAC 
	NUMPAX INTEGER NOT NULL, 
	-- TIN VARCHAR(2) 
	-- TOUT VARCHAR(2) 
	VUELLE VARCHAR(8), 
  HORALLE VARCHAR(8),	
	CODHOT VARCHAR(7) NOT NULL,		-- HOTEL 
	CODPAQ VARCHAR(7) NOT NULL,		-- PAQUETE 
	-- NOMHOT VARCHAR(30) 
	VUESAL VARCHAR(8), 
  HORASAL VARCHAR(8),	
	CODUSR VARCHAR(15) NOT NULL, 
	FACTUINTE VARCHAR(30),
	FFACTUINTE DATETIME,
	HABITACION VARCHAR(10),
	OBS VARCHAR(200),
	BORRADA VARCHAR(3),
	-- TIPO INTEGER, 
	-- NOMSER VARCHAR(150)
	CONSTRAINT pk_reservas
		PRIMARY KEY (NUMRES,RESRES),
	CONSTRAINT fk_reservas_codcli 
		FOREIGN KEY(CODCLI) 
		REFERENCES CLIENTES(CODCLI)	,	
	CONSTRAINT fk_reservas_codnac 
		FOREIGN KEY(CODNAC) 
		REFERENCES NACIONALIDADES(CODNAC),
	CONSTRAINT fk_reservas_codhot 
		FOREIGN KEY(CODHOT) 
		REFERENCES UBICACIONES(CODUBI),
	CONSTRAINT fk_reservas_codusr 
		FOREIGN KEY(CODUSR) 
		REFERENCES USUARIOS(CODUSR)
) 

CREATE TABLE RESERVAS_TOUR (	-- servicios
	NUMRES INTEGER, 
	RESRES INTEGER, 
	CODSER VARCHAR(7),
	CODUSR VARCHAR(15) NOT NULL, 
	FDIGITA DATETIME NOT NULL, 
	CONFIRMADA VARCHAR(3), 
	CONSTRAINT pk_reservas_tour
		PRIMARY KEY (NUMRES,RESRES,CODSER),	
	CONSTRAINT fk_restour_numres
		FOREIGN KEY(NUMRES,RESRES)
		REFERENCES RESERVAS(NUMRES,RESRES),
	CONSTRAINT fk_restour_codser 
		FOREIGN KEY(CODSER) 
		REFERENCES SERVICIOS(CODSER),
	CONSTRAINT fk_restour_codusr 
		FOREIGN KEY(CODUSR) 
		REFERENCES USUARIOS(CODUSR)		
) 

CREATE TABLE TOURS (	-- NUEVA TABLA
  CODOFI VARCHAR(20),
	CODTOUR VARCHAR(20),
	CODSER VARCHAR(7) NOT NULL,
	FTOUR DATETIME NOT NULL,
	LUGAR VARCHAR(50),	
	CODPRO VARCHAR(7) NOT NULL,
	cupos integer not null,
	BORRADO VARCHAR(3),
	CONSTRAINT pk_tours
		PRIMARY KEY (CODTOUR),	
	CONSTRAINT fk_tours_codser 
		FOREIGN KEY(CODSER) 
		REFERENCES SERVICIOS(CODSER),
	CONSTRAINT fk_tours_codpro 
		FOREIGN KEY(CODPRO)
		REFERENCES PROVEEDORES(CODPRO)
) 

CREATE TABLE SERVICIOS_PARTICULAR (	-- particular
  CODOFI VARCHAR(20) NOT NULL,	-- NUEVO CAMPO
	NUMVOU INTEGER, 			-- NUEVO CAMPO
	CODTOUR VARCHAR(20) NOT NULL,	-- NUEVO CAMPO
	TIPO VARCHAR(20) NOT NULL,
	DOCUMENTO VARCHAR(20) NOT NULL, 
	NOMPAX VARCHAR(50) NOT NULL,
	CODHOT VARCHAR(7) NOT NULL,	-- NUEVO CAMPO
	CUARTOHOT VARCHAR(20),		-- NUEVO CAMPO
	CODNAC VARCHAR(3) NOT NULL,	-- NAC
	NUMPAX INTEGER NULL,
  TOTAL INTEGER NOT NULL,		-- NUEVO CAMPO
  NUMPAX1 INTEGER,
  NUMPAX2 INTEGER,  
	PRECIOXPER INTEGER NULL,-- NUEVO CAMPO
  PRECIOXPER2 INTEGER,
	OBS VARCHAR(100),
	CODUSR VARCHAR(15) NOT NULL,
	FDIGITA DATETIME NOT NULL,	-- NUEVO CAMPO
	BORRADO VARCHAR(3)
	CONSTRAINT pk_servicios_particular
		PRIMARY KEY (CODOFI, NUMVOU),
  CONSTRAINT fk_servparti_ofi 
		FOREIGN KEY(CODOFI) 
		REFERENCES OFICINAS(CODOFI),
	CONSTRAINT fk_servparti_codtour 
		FOREIGN KEY(CODTOUR) 
		REFERENCES TOURS(CODTOUR),
	CONSTRAINT fk_servparti_codhot 
		FOREIGN KEY(CODHOT) 
		REFERENCES UBICACIONES(CODUBI),
	CONSTRAINT fk_servparti_codnac 
		FOREIGN KEY(CODNAC) 
		REFERENCES NACIONALIDADES(CODNAC),	
	CONSTRAINT fk_servparti_codusr 
		FOREIGN KEY(CODUSR) 
		REFERENCES USUARIOS(CODUSR)			
)

CREATE TABLE CONSECUTIVOS (
	TIPO VARCHAR(10), -- Tipo de consecutivo. posibles valores: RES, IN, OUT, OTR
	NUM INTEGER,
	ESTADO VARCHAR(3),
	FECHARES DATETIME,
	CONSTRAINT pk_consecutivos
		PRIMARY KEY (TIPO,NUM)		
) 	

CREATE TABLE REF_CODES ( -- NUEVA TABLA
	DOMINIO VARCHAR(20) NOT NULL,
	VALOR VARCHAR(200) NOT NULL,
	VALOR2 VARCHAR(200),
	DESCVAL VARCHAR(100) NOT NULL,
	CONSTRAINT pk_ref_codes
		PRIMARY KEY (DOMINIO, VALOR)
)

CREATE TABLE LOGS (	-- NUEVA TABLA
	FECHA DATETIME NOT NULL,
	CODUSR VARCHAR(15) NOT NULL,
	TIPO VARCHAR(3) NOT NULL,
	TABLA VARCHAR(30) NOT NULL,
	NUM INTEGER,
	DESCRIPCION VARCHAR(200) NOT NULL,
	CONSTRAINT fk_logs_codusr 
		FOREIGN KEY(CODUSR) 
		REFERENCES USUARIOS(CODUSR)			
) 	

-- Indices
CREATE INDEX idx_fllega_reservas on reservas(fllega);
CREATE INDEX idx_fsale_reservas on reservas(fsale);
CREATE INDEX idx_voucher_reservas on reservas(voucher);
CREATE INDEX idx_tabla_fecha_logs on LOGS(tabla, fecha);
CREATE INDEX idx_tabla_num_logs on LOGS(tabla, num);
	
-- ROLES
INSERT INTO ROLES (CODROL, DESCROL) VALUES ('ADM', 'Administrador') 
INSERT INTO ROLES (CODROL, DESCROL) VALUES ('ASE', 'Asesor Venta I') 
INSERT INTO ROLES (CODROL, DESCROL) VALUES ('ASE2', 'Asesor Venta II') 
INSERT INTO ROLES (CODROL, DESCROL) VALUES ('PROG', 'Programador de Tours') 
INSERT INTO ROLES (CODROL, DESCROL) VALUES ('CONF', 'Configurador de Tablas') 

-- PERMISOS
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('RES', 'Reservar') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('eliRes', 'Anular Reservas') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('LOG', 'Visualizar Log de Auditoria') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('TOU1', 'Programar Tour') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('TOU2', 'Venta Tour') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('TOU3', 'Confirmar Tour') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('TOU4', 'Cancelar Asistencia a Tour') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('TOU5', 'Cancelar Programación de Tour') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('REPOR', 'Reportes de Reservas y Tours') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('REPESTA', 'Reportes Estadisticos') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('REPCONSEC', 'Reporte de consecutivos') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('IMPVOUTOUR', 'Re-Imprimir Voucher de Tour') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('IMPVOUTRAN', 'Imprimir Voucher de Transfer (IN,OUT)') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('tablas', 'Tablas de configuracion') 
INSERT INTO PERMISOS (CODPER, DESCPER) VALUES ('USU', 'Crear o modificar usuarios del sistema') 


-- PERMISOSXROL
-- Asesor I
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'RES') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'TOU2') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'TOU3') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'REPOR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'REPCONSEC') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'IMPVOUTOUR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE', 'IMPVOUTRAN') 

-- Asesor II
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'RES') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'eliRes') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'TOU2') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'TOU3') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'TOU4') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'REPOR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'REPCONSEC') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'IMPVOUTOUR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ASE2', 'IMPVOUTRAN') 

-- Programador de Tours
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'RES') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'eliRes') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'TOU1') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'TOU2') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'TOU3') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'TOU4') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'TOU5')  
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'REPOR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'REPCONSEC') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'IMPVOUTOUR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('PROG', 'IMPVOUTRAN') 

-- Configurador
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'RES') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'eliRes') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'TOU1') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'TOU2') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'TOU3') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'TOU4') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'TOU5')  
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'REPOR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'REPCONSEC') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'IMPVOUTOUR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'IMPVOUTRAN') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('CONF', 'tablas')

-- Administrador
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'RES') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'eliRes') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'TOU1') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'TOU2') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'TOU3') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'TOU4') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'TOU5')  
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'REPOR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'REPCONSEC') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'IMPVOUTOUR') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'IMPVOUTRAN') 
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'REPESTA')
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'LOG')  
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'tablas')
INSERT INTO PERMISOSXROL (CODROL, CODPER) VALUES ('ADM', 'USU')


-- USUARIOS
INSERT INTO USUARIOS (CODUSR, CLAVE, CODROL, NOMBRE, APELLIDOS, FDIGITA, CODUSRDIG) VALUES ('admin', 'admin', 'ADM', 'Administrador', NULL, '2011-08-01', 'admin') 

-- NACIONALIDADES
INSERT INTO NACIONALIDADES (CODNAC, NACIONAL) VALUES ('COL', 'Colombia')

-- SERVICIOS
INSERT INTO SERVICIOS (CODSER, NOMSER, SELDEFECTO, ORDENSALE) VALUES ('IN', 'Transfer IN', 'SI', '1') 
INSERT INTO SERVICIOS (CODSER, NOMSER, SELDEFECTO, ORDENSALE) VALUES ('OUT', 'Transfer OUT', 'SI', '2')

-- REF_CODES
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TIPOLOG', 'REG', 'Registrar', 'Posible valor Registrar para el tipo de Log')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TIPOLOG', 'ACT', 'Actualizar', 'Posible valor Actualizar para el tipo de Log')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TIPOLOG', 'ANU', 'Anular', 'Posible valor Anular para el tipo de Log')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TIPOLOG', 'RES', 'Restaurar', 'Posible valor Restaurar para el tipo de Log')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TIPOLOG', 'ELI', 'Eliminar', 'Posible valor Eliminar para el tipo de Log')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TIPOLOG', 'VEN', 'Registrar Venta', 'Posible valor Registrar Venta para el tipo de Log')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TABLALOG', 'RES', 'Reservas', 'Posible valor Reservas para la tabla de Log')
--INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TABLALOG', 'IN', 'Transfer-IN', 'Posible valor Transfer-IN para la tabla de Log')
--INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TABLALOG', 'OUT', 'Transfer-OUT', 'Posible valor Transfer-OUT para la tabla de Log')
--INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TABLALOG', 'OTR', 'Transfer-OTR', 'Posible valor Transfer-OTR para la tabla de Log')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('TABLALOG', 'TOUR', 'Tours', 'Posible valor Ventas de Tours para la tabla de Log')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'REGRES', 'SI', 'Registrar en Log el registro de reserva')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'REGIN', 'SI', 'Registrar en Log el registro de transfer-IN')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'REGOUT', 'SI', 'Registrar en Log el registro de transfer-OUT')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'REGOTR', 'SI', 'Registrar en Log el registro de transfer-OTR')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'REGTOUR', 'SI', 'Registrar en Log el registro de tour')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'VENTOUR', 'SI', 'Registrar en Log la venta de tours')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ACTRES', 'SI', 'Registrar en Log la actualizacion de reserva')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ACTIN', 'SI', 'Registrar en Log la actualizacion de transfer-IN')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ACTOUT', 'SI', 'Registrar en Log la actualizacion de transfer-OUT')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ACTOTR', 'SI', 'Registrar en Log la actualizacion de transfer-OTR')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ANURES', 'SI', 'Registrar en Log la anulacion de reserva')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ANUIN', 'SI', 'Registrar en Log la anulacion de transfer-IN')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ANUOUT', 'SI', 'Registrar en Log la anulacion de transfer-OUT')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ANUOTR', 'SI', 'Registrar en Log la anulacion de transfer-OTR')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ANUTOUR', 'SI', 'Registrar en Log la anulacion de tour')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'RESRES', 'SI', 'Registrar en Log el registro de reserva')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'RESIN', 'NO', 'Registrar en Log el registro de transfer-IN')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'RESOUT', 'NO', 'Registrar en Log el registro de transfer-OUT')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'RESOTR', 'NO', 'Registrar en Log el registro de transfer-OTR')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ELIRES', 'SI', 'Registrar en Log la eliminacion de reserva')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ELIIN', 'SI', 'Registrar en Log la eliminacion de transfer-IN')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ELIOUT', 'SI', 'Registrar en Log la eliminacion de transfer-OUT')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ELIOTR', 'SI', 'Registrar en Log la eliminacion de transfer-OTR')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('REGISTROLOG', 'ELITOUR', 'SI', 'Registrar en Log la eliminacion de tour')

-- VARIABLES JAVASCRIPT POR DOMINIO
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('VAR_JS_GENERAL', 'jsMaxNumRes', '50', 'Indica el máximo numero de reservas')

INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('VAR_JS_RESERVAS', 'jsObsActualizar', 'true', 'Indica si es obligatorio indicar observaciones para una reserva que se actualiza.')
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('VAR_JS_RESERVAS', 'jsObsAnular', 'true', 'Indica si es obligatorio indicar observaciones para una reserva que se anula.')

-- VARIABLES PHP POR DOMINIO
INSERT INTO REF_CODES (DOMINIO, VALOR, VALOR2, DESCVAL) VALUES ('VAR_PHP_GENERAL', 'phpMaxNomTrans', '200', 'Indica el máximo numero de nombres de transfer encontrados')


-- CONSECUTIVOS
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('RES',1000,'OCU')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU ADZ',1000,'OCU')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU CTG',1000,'OCU')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU SMR',1000,'OCU')

INSERT INTO OFICINAS (CODOFI, NOMOFI, PREFIJO) VALUES ('CTG','Cartagena', 'CTG');
INSERT INTO OFICINAS (CODOFI, NOMOFI, PREFIJO) VALUES ('SMR','Santa Marta', 'SMR');
INSERT INTO OFICINAS (CODOFI, NOMOFI, PREFIJO) VALUES ('ADZ','San Andres', 'ADZ');

/*
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',1,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',2,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',3,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',4,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',5,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',6,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',7,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',8,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',9,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',10,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',11,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',12,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',13,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',14,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',15,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',16,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',17,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',18,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',19,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',20,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',21,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',22,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',23,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',24,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',25,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',26,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',27,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',28,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',29,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',30,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',31,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',32,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',33,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',34,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',35,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',36,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',37,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',38,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',39,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',40,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',41,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',42,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',43,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',44,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',45,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',46,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',47,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',48,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',49,'LIB')
INSERT INTO CONSECUTIVOS (TIPO, NUM, ESTADO) VALUES('VOU',50,'LIB')
*/

/*
SELECT 
table_name, column_name, character_set_name,collation_name 
FROM information_schema.columns 
WHERE table_name = 'servicios'
*/

/*
-- Eliminar reserva de prueba realizada
DELETE FROM RESERVAS WHERE NUMRES = 1817;
UPDATE CONSECUTIVOS SET ESTADO='LIB', FECHARES = NULL WHERE TIPO = 'RES' AND NUM = 1817;
*/